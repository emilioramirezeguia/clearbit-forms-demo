<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <title>Clearbit Forms Demo</title>
    <!-- Clearbit Reveal -->
    <script src="https://reveal.clearbit.com/v1/companies/reveal?authorization=pk_44b7f5a3b1aa0bbd07d94b358aa15699&variable=reveal"></script>
    <!-- End Clearbit Reveal -->
    <!-- Clearbit X -->
    <script>
      !(function (w) {
        var clearbit = (w.clearbit = w.clearbit || []);
        if (!clearbit.initialize)
          if (clearbit.invoked)
            w.console &&
              console.error &&
              console.error("Clearbit snippet included twice.");
          else {
            clearbit.invoked = !0;
            clearbit.methods = [
              "trackSubmit",
              "trackClick",
              "trackLink",
              "trackForm",
              "pageview",
              "identify",
              "reset",
              "group",
              "track",
              "ready",
              "alias",
              "page",
              "once",
              "off",
              "on",
            ];
            clearbit.factory = function (t) {
              return function () {
                var e = Array.prototype.slice.call(arguments);
                e.unshift(t);
                clearbit.push(e);
                return clearbit;
              };
            };
            for (var t = 0; t < clearbit.methods.length; t++) {
              var e = clearbit.methods[t];
              clearbit[e] = clearbit.factory(e);
            }
            clearbit.load = function (t) {
              var e = document.createElement("script");
              e.async = !0;
              e.referrerPolicy = "strict-origin-when-cross-origin";
              e.src =
                ("https:" === document.location.protocol
                  ? "https://"
                  : "http://") +
                "x.clearbitjs.com/v1/" +
                t +
                "/clearbit.min.js";
              var n = document.getElementsByTagName("script")[0];
              n.parentNode.insertBefore(e, n);
            };
            clearbit.SNIPPET_VERSION = "3.1.0";
            clearbit.load("pk_44b7f5a3b1aa0bbd07d94b358aa15699");
            clearbit.page();
          }
      })(window);
    </script>
    <!-- End Clearbit X -->
    <!-- Segment -->
    <script>
      !(function () {
        var analytics = (window.analytics = window.analytics || []);
        if (!analytics.initialize)
          if (analytics.invoked)
            window.console &&
              console.error &&
              console.error("Segment snippet included twice.");
          else {
            analytics.invoked = !0;
            analytics.methods = [
              "trackSubmit",
              "trackClick",
              "trackLink",
              "trackForm",
              "pageview",
              "identify",
              "reset",
              "group",
              "track",
              "ready",
              "alias",
              "debug",
              "page",
              "once",
              "off",
              "on",
              "addSourceMiddleware",
              "addIntegrationMiddleware",
              "setAnonymousId",
              "addDestinationMiddleware",
            ];
            analytics.factory = function (e) {
              return function () {
                var t = Array.prototype.slice.call(arguments);
                t.unshift(e);
                analytics.push(t);
                return analytics;
              };
            };
            for (var e = 0; e < analytics.methods.length; e++) {
              var key = analytics.methods[e];
              analytics[key] = analytics.factory(key);
            }
            analytics.load = function (key, e) {
              var t = document.createElement("script");
              t.type = "text/javascript";
              t.async = !0;
              t.src =
                "https://cdn.segment.com/analytics.js/v1/" +
                key +
                "/analytics.min.js";
              var n = document.getElementsByTagName("script")[0];
              n.parentNode.insertBefore(t, n);
              analytics._loadOptions = e;
            };
            analytics._writeKey = "axwJlSebRPrIeNfFbPmEq5OrNMoDBT45";
            analytics.SNIPPET_VERSION = "4.13.2";
            analytics.load("axwJlSebRPrIeNfFbPmEq5OrNMoDBT45");
            analytics.page(function () {
              var anonymousId = analytics.user().anonymousId();
              console.log("Anonymous ID:", anonymousId);
              analytics.setUserId(anonymousId);
            });
          }
      })();
    </script>
    <!-- End Segment -->
    <!-- jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <!-- End jQuery -->
  </head>
  <body>
    <!--
  This example requires Tailwind CSS v2.0+ 
  
  This example requires some changes to your config:
  
  ```
  // tailwind.config.js
  module.exports = {
    // ...
    plugins: [
      // ...
      require('@tailwindcss/forms'),
    ]
  }
  ```
-->
    <!-- Custom Form (identify call) -->
    <div
      class="
        min-h-screen
        flex
        items-center
        justify-center
        bg-gray-50
        py-12
        px-4
        sm:px-6
        lg:px-8
      "
    >
      <div class="max-w-md w-full space-y-8">
        <div>
          <img
            class="mx-auto h-12 w-auto"
            src="https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg"
            alt="Workflow"
          />
          <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
            Custom Form (Identify Call)
          </h2>
        </div>
        <form class="mt-8 space-y-6" action="#" method="">
          <input type="hidden" name="remember" value="true" />
          <div class="rounded-md shadow-sm -space-y-px">
            <div>
              <label for="email-address" class="sr-only">Email address</label>
              <input
                id="email-address"
                name="email"
                type="email"
                autocomplete="email"
                required
                class="
                  appearance-none
                  rounded-none
                  relative
                  block
                  w-full
                  px-3
                  py-2
                  border border-gray-300
                  placeholder-gray-500
                  text-gray-900
                  rounded-t-md
                  focus:outline-none
                  focus:ring-indigo-500
                  focus:border-indigo-500
                  focus:z-10
                  sm:text-sm
                "
                placeholder="Email address"
              />
            </div>
          </div>

          <div>
            <button
              type="submit"
              class="
                group
                relative
                w-full
                flex
                justify-center
                py-2
                px-4
                border border-transparent
                text-sm
                font-medium
                rounded-md
                text-white
                bg-indigo-600
                hover:bg-indigo-700
                focus:outline-none
                focus:ring-2
                focus:ring-offset-2
                focus:ring-indigo-500
              "
            >
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>
    <!-- End Custom Form (identify call)-->
    <!-- HubSpot Form -->
    <script
      charset="utf-8"
      type="text/javascript"
      src="//js.hsforms.net/forms/shell.js"
    ></script>
    <script>
      hbspt.forms.create({
        region: "na1",
        portalId: "20484988",
        formId: "7d54e712-49e7-446b-9b59-b331f9c842a5",
        onFormSubmit: function ($form) {
          // Fetch all form fields
          let formFields = $form.serializeArray();
          // Find the email field
          let emailField = formFields.find(function (formField) {
            return formField.name === "email";
          });
          // Grab the email field's value (i.e. the email submitted)
          let submittedEmail = emailField.value;
          // Send the identified user to Clearbit
          clearbit.identify(submittedEmail, {
            email: submittedEmail,
          });
        },
      });
    </script>
    <!-- End HubSpot Form -->
    <script>
      // Identify the user
      const identify = function (event) {
        event.preventDefault();
        const email = event.target.querySelector("#email-address").value;
        // Segment identify
        analytics.identify(email, {
          email: email,
        });
      };
      // Fetch the only form on this page
      const form = document.querySelector("form");
      // Add click event handler to button
      form.addEventListener("submit", identify);
    </script>
  </body>
</html>
